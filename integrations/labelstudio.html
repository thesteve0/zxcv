
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Label Studio Integration — FiftyOne 1.3.0 documentation</title>
<link href="../_static/favicon.ico" rel="shortcut icon"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
<link href="../_static/css/voxel51-website.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="v7.html" rel="next" title="V7 Integration"/>
<link href="cvat.html" rel="prev" title="CVAT Integration"/>
<meta content="https://voxel51.com/wp-content/uploads/2024/03/3.24_webpages_Home_AV.png" property="og:image">
<link href="https://fonts.googleapis.com/css?family=Palanquin:400,600,700,800" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet"/>
<script src="https://tag.clearbitscripts.com/v1/pk_b9ed71c8234edd4f77326bcbfab5a4ca/tags.js"></script>
<script src="../_static/js/modernizr.min.js"></script>
</meta></head>

<body class="pytorch-body">
<div class="table-of-contents-link-wrapper">
<span>Table of Contents</span>
<a class="toggle-table-of-contents" data-behavior="toggle-table-of-contents" href="#"></a>
</div>
<nav class="pytorch-left-menu" data-toggle="wy-nav-shift" id="pytorch-left-menu">
<div class="pytorch-side-scroll">
<div aria-label="main navigation" class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation">
<div class="pytorch-left-menu-search">
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search Docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teams/index.html">FiftyOne Teams 🚀</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments/index.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheat_sheets/index.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataset_zoo/index.html">Dataset Zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo/index.html">Model Zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../brain.html">FiftyOne Brain</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/fiftyone.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecation.html">Deprecation Notices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>
</div>
</div>
</nav>
<div class="pytorch-container">
<div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
<div class="pytorch-breadcrumbs-wrapper">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="pytorch-breadcrumbs">
<li>
<a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>
<li><a href="index.html">FiftyOne Integrations</a> &gt;</li>
<li>Label Studio Integration</li>
<li class="pytorch-breadcrumbs-aside">
</li>
</ul>
</div>
</div>
<div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Contents
        </div>
</div>
<section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
<div class="pytorch-content-left">
<div class="rst-content style-external-links">
<div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
<div class="section" id="label-studio-integration">
<span id="id1"></span><h1>Label Studio Integration<a class="headerlink" href="#label-studio-integration" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://labelstud.io/">Label Studio</a> is a popular open-source data labeling
tool with a friendly UI. The integration between FiftyOne and Label Studio
allows you to easily upload your data directly from FiftyOne to Label Studio
for labeling.</p>
<p>You can get started with Label Studio through a simple pip install to get a
local server up and running. FiftyOne provides
<a class="reference internal" href="#label-studio-setup"><span class="std std-ref">simple setup instructions</span></a> that you can use to
specify the necessary account credentials and server endpoint to use.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Did you know? You can request, manage, and import annotations from within
the FiftyOne App by installing the
<a class="reference external" href="https://github.com/voxel51/fiftyone-plugins/tree/main/plugins/annotation">@voxel51/annotation</a>
plugin!</p>
</div>
<p>FiftyOne provides an API to create projects, upload data, define label schemas,
and download annotations using Label Studio, all programmatically in Python.
All of the following label types are supported for image datasets:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#classification"><span class="std std-ref">Classification</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#multilabel-classification"><span class="std std-ref">Multilabel classification</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#object-detection"><span class="std std-ref">Detections</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#instance-segmentation"><span class="std std-ref">Instance segmentations</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#polylines"><span class="std std-ref">Polygons and polylines</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#keypoints"><span class="std std-ref">Keypoints</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#adding-sample-fields"><span class="std std-ref">Scalar fields</span></a></p></li>
<li><p><a class="reference internal" href="../user_guide/using_datasets.html#semantic-segmentation"><span class="std std-ref">Semantic segmentation</span></a></p></li>
</ul>
<div class="section" id="basic-recipe">
<span id="label-studio-basic-recipe"></span><h2>Basic recipe<a class="headerlink" href="#basic-recipe" title="Permalink to this headline">¶</a></h2>
<p>The basic workflow to use Label Studio to add or edit labels on your FiftyOne
datasets is as follows:</p>
<ol class="arabic simple">
<li><p>Load a <a class="reference internal" href="../user_guide/dataset_creation/index.html#loading-datasets"><span class="std std-ref">labeled or unlabeled dataset</span></a> into FiftyOne</p></li>
<li><p>Explore the dataset using the <a class="reference internal" href="../user_guide/app.html#fiftyone-app"><span class="std std-ref">App</span></a> or
<a class="reference internal" href="../user_guide/using_views.html#using-views"><span class="std std-ref">dataset views</span></a> to locate either unlabeled samples that
you wish to annotate or labeled samples whose annotations you want to edit</p></li>
<li><p>Use the
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>
method on your dataset or view to upload the samples and optionally their
existing labels to Label Studio by setting the parameter
<code class="code docutils literal notranslate"><span class="pre">backend="labelstudio"</span></code></p></li>
<li><p>In Label Studio, perform the necessary annotation work</p></li>
<li><p>Back in FiftyOne, load your dataset and use the
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>
method to merge the annotations back into your FiftyOne dataset</p></li>
<li><p>If desired, delete the Label Studio tasks and the record of the annotation
run from your FiftyOne dataset</p></li>
</ol>
<p><br/>
The example below demonstrates this workflow.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must start by installing and setting up Label Studio as described in
<a class="reference internal" href="#label-studio-setup"><span class="std std-ref">this section</span></a>.</p>
<p>Note that you can also store your credentials to avoid entering them
manually each time you interact with Label Studio.</p>
</div>
<p>First, we create the annotation tasks in Label Studio:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone</span> <span class="k">as</span> <span class="nn">fo</span>
<span class="kn">import</span> <span class="nn">fiftyone.zoo</span> <span class="k">as</span> <span class="nn">foz</span>
<span class="kn">from</span> <span class="nn">fiftyone</span> <span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>

<span class="c1"># Step 1: Load your data into FiftyOne</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
    <span class="s2">"quickstart"</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="s2">"ls-annotation-example"</span>
<span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">persistent</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
    <span class="s2">"predictions"</span><span class="p">,</span> <span class="n">gt_field</span><span class="o">=</span><span class="s2">"ground_truth"</span><span class="p">,</span> <span class="n">eval_key</span><span class="o">=</span><span class="s2">"eval"</span>
<span class="p">)</span>

<span class="c1"># Step 2: Locate a subset of your data requiring annotation</span>

<span class="c1"># Create a view that contains only high confidence false positive model</span>
<span class="c1"># predictions, with samples containing the most false positives first</span>
<span class="n">most_fp_view</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">dataset</span>
    <span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">"predictions"</span><span class="p">,</span> <span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">"confidence"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">"eval"</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"fp"</span><span class="p">))</span>
    <span class="o">.</span><span class="n">sort_by</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">"predictions.detections"</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Retrieve the sample with the most high confidence false positives</span>
<span class="n">sample_id</span> <span class="o">=</span> <span class="n">most_fp_view</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">id</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sample_id</span><span class="p">)</span>

<span class="c1"># Step 3: Send samples to Label Studio</span>

<span class="c1"># A unique identifier for this run</span>
<span class="n">anno_key</span> <span class="o">=</span> <span class="s2">"labelstudio_basic_recipe"</span>

<span class="n">label_schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"new_ground_truth"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"detections"</span><span class="p">,</span>
        <span class="s2">"classes"</span><span class="p">:</span> <span class="n">dataset</span><span class="o">.</span><span class="n">distinct</span><span class="p">(</span><span class="s2">"ground_truth.detections.label"</span><span class="p">),</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">anno_key</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span>
    <span class="n">label_schema</span><span class="o">=</span><span class="n">label_schema</span><span class="p">,</span>
    <span class="n">launch_editor</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_annotation_info</span><span class="p">(</span><span class="n">anno_key</span><span class="p">))</span>

<span class="c1"># Step 4: Perform annotation in Label Studio and save the tasks</span>
</pre></div>
</div>
<p>Then, once the annotation work is complete, we merge the annotations back into
FiftyOne:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone</span> <span class="k">as</span> <span class="nn">fo</span>

<span class="n">anno_key</span> <span class="o">=</span> <span class="s2">"labelstudio_basic_recipe"</span>

<span class="c1"># Step 5: Merge annotations back into FiftyOne dataset</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">"ls-annotation-example"</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">load_annotations</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>

<span class="c1"># Load the view that was annotated in the App</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">load_annotation_view</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">)</span>

<span class="c1"># Step 6: Cleanup</span>

<span class="c1"># Delete tasks from Label Studio</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">load_annotation_results</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="c1"># Delete run record (not the labels) from FiftyOne</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">delete_annotation_run</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="setup">
<span id="label-studio-setup"></span><h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to get started with
<a class="reference external" href="https://github.com/heartexlabs/label-studio">Label Studio</a> is to install
it locally and create an account.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>label-studio

<span class="c1"># Launch it!</span>
label-studio
</pre></div>
</div>
<div class="section" id="installing-the-label-studio-client">
<h3>Installing the Label Studio client<a class="headerlink" href="#installing-the-label-studio-client" title="Permalink to this headline">¶</a></h3>
<p>In order to use the Label Studio backend, you must install the
<a class="reference external" href="https://github.com/heartexlabs/label-studio-sdk">Label Studio Python SDK</a>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>label-studio-sdk
</pre></div>
</div>
</div>
<div class="section" id="using-the-label-studio-backend">
<h3>Using the Label Studio backend<a class="headerlink" href="#using-the-label-studio-backend" title="Permalink to this headline">¶</a></h3>
<p>By default, calling
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a> will
use the <a class="reference internal" href="cvat.html#cvat-integration"><span class="std std-ref">CVAT backend</span></a>.</p>
<p>To use the Label Studio backend, simply set the optional <code class="code docutils literal notranslate"><span class="pre">backend</span></code> parameter of
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a> to
<code class="code docutils literal notranslate"><span class="pre">"labelstudio"</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">anno_key</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can permanently configure FiftyOne to use the Label Studio
backend by setting the <code class="code docutils literal notranslate"><span class="pre">FIFTYONE_ANNOTATION_DEFAULT_BACKEND</span></code> environment
variable:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">FIFTYONE_ANNOTATION_DEFAULT_BACKEND</span><span class="o">=</span>labelstudio
</pre></div>
</div>
<p>or by setting the <code class="code docutils literal notranslate"><span class="pre">default_backend</span></code> parameter of your
<a class="reference internal" href="../user_guide/annotation.html#annotation-config"><span class="std std-ref">annotation config</span></a> located at
<code class="code docutils literal notranslate"><span class="pre">~/.fiftyone/annotation_config.json</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
    "default_backend": "labelstudio"
}
</pre></div>
</div>
</div>
<div class="section" id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>In order to connect to a Label Studio server, you must provide your API key,
which can be done in a variety of ways.</p>
<p><strong>Environment variables (recommended)</strong></p>
<p>The recommended way to configure your Label Studio API key is to store it in
the <code class="code docutils literal notranslate"><span class="pre">FIFTYONE_LABELSTUDIO_API_KEY</span></code> environment variable. This is automatically
accessed by FiftyOne whenever a connection to Label Studio is made.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">FIFTYONE_LABELSTUDIO_API_KEY</span><span class="o">=</span>...
</pre></div>
</div>
<p><strong>FiftyOne annotation config</strong></p>
<p>You can also store your credentials in your
<a class="reference internal" href="../user_guide/annotation.html#annotation-config"><span class="std std-ref">annotation config</span></a> located at
<code class="code docutils literal notranslate"><span class="pre">~/.fiftyone/annotation_config.json</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
    "backends": {
        "labelstudio": {
            "api_key": ...,
        }
    }
}
</pre></div>
</div>
<p>Note that this file will not exist until you create it.</p>
<p><strong>Keyword arguments</strong></p>
<p>You can manually provide your API key as a keyword argument each time you call
methods like
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a> and
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>
that require connections to Label Studio:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">anno_key</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span>
    <span class="n">label_field</span><span class="o">=</span><span class="s2">"ground_truth"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=...</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Command line prompt</strong></p>
<p>If you have not stored your API key via another method, you will be prompted to
enter it interactively in your shell each time you call a method that requires
a connection to Label Studio:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">anno_key</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span>
    <span class="n">label_field</span><span class="o">=</span><span class="s2">"ground_truth"</span><span class="p">,</span>
    <span class="n">launch_editor</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Please enter your API key.
You can avoid this in the future by setting your `FIFTYONE_LABELSTUDIO_API_KEY` environment variable.
API key: ...
</pre></div>
</div>
</div>
<div class="section" id="server-url">
<span id="label-studio-on-premises"></span><h3>Server URL<a class="headerlink" href="#server-url" title="Permalink to this headline">¶</a></h3>
<p>You can configure the URL to the desired Label Studio server in any of the
following ways:</p>
<ul class="simple">
<li><p>Set the <code class="code docutils literal notranslate"><span class="pre">FIFTYONE_LABELSTUDIO_URL</span></code> environment variable:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">FIFTYONE_LABELSTUDIO_URL</span><span class="o">=</span>http://localhost:8080
</pre></div>
</div>
<ul class="simple">
<li><p>Store the <code class="code docutils literal notranslate"><span class="pre">url</span></code> of your server in your
<a class="reference internal" href="../user_guide/annotation.html#annotation-config"><span class="std std-ref">annotation config</span></a> at
<code class="code docutils literal notranslate"><span class="pre">~/.fiftyone/annotation_config.json</span></code>:</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
    "backends": {
        "labelstudio": {
            "url": "http://localhost:8080"
        }
    }
}
</pre></div>
</div>
<ul class="simple">
<li><p>Pass the <code class="code docutils literal notranslate"><span class="pre">url</span></code> parameter manually each time you call
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">anno_key</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span>
    <span class="n">label_field</span><span class="o">=</span><span class="s2">"ground_truth"</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:8080"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=...</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-local-file-storage">
<span id="label-studio-local-storage"></span><h3>Configuring local file storage<a class="headerlink" href="#configuring-local-file-storage" title="Permalink to this headline">¶</a></h3>
<p>If you are using FiftyOne on the same machine that is hosting Label Studio,
then you can make use of the
<a class="reference external" href="https://labelstud.io/guide/storage#Local-storage">local storage feature</a>
of Label Studio to avoid needing to copy your media.</p>
<p>To enable this, you just need to configure the
<code class="code docutils literal notranslate"><span class="pre">LABEL_STUDIO_LOCAL_FILES_DOCUMENT_ROOT</span></code> and
<code class="code docutils literal notranslate"><span class="pre">LABEL_STUDIO_LOCAL_FILES_SERVING_ENABLED</span></code> environment variables as defined in
<a class="reference external" href="https://labelstud.io/guide/storage#Prerequisites-2">the documentation</a>.</p>
<p>Then when you request annotations, if all of the samples in your <a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> or
<a class="reference internal" href="../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetView</span></code></a> reside in a subdirectory of the
<code class="code docutils literal notranslate"><span class="pre">LABEL_STUDIO_LOCAL_FILES_DOCUMENT_ROOT</span></code>, the media will not be copied over and
only filepaths for you media will be used to create the Label Studio project.</p>
</div>
</div>
<div class="section" id="requesting-annotations">
<span id="label-studio-requesting-annotations"></span><h2>Requesting annotations<a class="headerlink" href="#requesting-annotations" title="Permalink to this headline">¶</a></h2>
<p>Use the
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a> method
to send the samples and optionally existing labels in a <a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> or
<a class="reference internal" href="../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetView</span></code></a> to Label Studio for annotation.</p>
<p>The basic syntax is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">anno_key</span> <span class="o">=</span> <span class="s2">"..."</span>
<span class="n">view</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">anno_key</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="code docutils literal notranslate"><span class="pre">anno_key</span></code> argument defines a unique identifier for the annotation run, and
you will provide it to methods like
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>,
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_annotation_info()</span></code></a>,
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotation_results" title="fiftyone.core.collections.SampleCollection.load_annotation_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotation_results()</span></code></a>,
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.rename_annotation_run" title="fiftyone.core.collections.SampleCollection.rename_annotation_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_annotation_run()</span></code></a>, and
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.delete_annotation_run" title="fiftyone.core.collections.SampleCollection.delete_annotation_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_annotation_run()</span></code></a>
to manage the run in the future.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calling
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>
will upload the source media files to the Label Studio server.</p>
</div>
<p>In addition,
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>
provides various parameters that you can use to customize the annotation tasks
that you wish to be performed.</p>
<p>The following parameters are supported by all annotation backends:</p>
<ul class="simple">
<li><p><strong>backend</strong> (<em>None</em>): the annotation backend to use. Use <code class="code docutils literal notranslate"><span class="pre">"labelstudio"</span></code>
for the Label Studio backend. The supported values are
<code class="code docutils literal notranslate"><span class="pre">fiftyone.annotation_config.backends.keys()</span></code> and the default is
<code class="code docutils literal notranslate"><span class="pre">fiftyone.annotation_config.default_backend</span></code></p></li>
<li><p><strong>media_field</strong> (<em>“filepath”</em>): the sample field containing the path to the
source media to upload</p></li>
<li><p><strong>launch_editor</strong> (<em>False</em>): whether to launch the annotation backend’s
editor after uploading the samples</p></li>
</ul>
<p>The following parameters allow you to configure the labeling schema to use for
your annotation tasks. See <a class="reference internal" href="#label-studio-label-schema"><span class="std std-ref">this section</span></a> for
more details:</p>
<ul>
<li><p><strong>label_schema</strong> (<em>None</em>): a dictionary defining the label schema to use.
If this argument is provided, it takes precedence over <code class="code docutils literal notranslate"><span class="pre">label_field</span></code> and
<code class="code docutils literal notranslate"><span class="pre">label_type</span></code></p></li>
<li><p><strong>label_field</strong> (<em>None</em>): a string indicating a new or existing label field
to annotate</p></li>
<li><p><strong>label_type</strong> (<em>None</em>): a string indicating the type of labels to
annotate. The possible label types are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">"classification"</span></code>: a single classification stored in
<a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification" title="fiftyone.core.labels.Classification"><code class="xref py py-class docutils literal notranslate"><span class="pre">Classification</span></code></a> fields</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"classifications"</span></code>: multilabel classifications stored in
<a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Classifications" title="fiftyone.core.labels.Classifications"><code class="xref py py-class docutils literal notranslate"><span class="pre">Classifications</span></code></a> fields</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"detections"</span></code>: object detections stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detections</span></code></a> fields</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"instances"</span></code>: instance segmentations stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detections</span></code></a> fields
with their <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.mask" title="fiftyone.core.labels.Detection.mask"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mask</span></code></a>
attributes populated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"polylines"</span></code>: polylines stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Polylines" title="fiftyone.core.labels.Polylines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polylines</span></code></a> fields with their
<a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.filled" title="fiftyone.core.labels.Polyline.filled"><code class="xref py py-attr docutils literal notranslate"><span class="pre">filled</span></code></a> attributes set to
<code class="code docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"polygons"</span></code>: polygons stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Polylines" title="fiftyone.core.labels.Polylines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polylines</span></code></a> fields with their
<a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.filled" title="fiftyone.core.labels.Polyline.filled"><code class="xref py py-attr docutils literal notranslate"><span class="pre">filled</span></code></a> attributes set to
<code class="code docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"keypoints"</span></code>: keypoints stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints" title="fiftyone.core.labels.Keypoints"><code class="xref py py-class docutils literal notranslate"><span class="pre">Keypoints</span></code></a> fields</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"segmentation"</span></code>: semantic segmentations stored in <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Segmentation</span></code></a>
fields</p></li>
</ul>
<p>All new label fields must have their type specified via this argument or in
<code class="code docutils literal notranslate"><span class="pre">label_schema</span></code></p>
</li>
<li><p><strong>classes</strong> (<em>None</em>): a list of strings indicating the class options for
<code class="code docutils literal notranslate"><span class="pre">label_field</span></code> or all fields in <code class="code docutils literal notranslate"><span class="pre">label_schema</span></code> without classes specified.
All new label fields must have a class list provided via one of the
supported methods. For existing label fields, if classes are not provided
by this argument nor <code class="code docutils literal notranslate"><span class="pre">label_schema</span></code>, they are parsed from
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.classes" title="fiftyone.core.dataset.Dataset.classes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataset.classes</span></code></a> or
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_classes" title="fiftyone.core.dataset.Dataset.default_classes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataset.default_classes</span></code></a></p></li>
<li><p><strong>mask_targets</strong> (<em>None</em>): a dict mapping pixel values to semantic label
strings. Only applicable when annotating semantic segmentations</p></li>
</ul>
<p><br/>
In addition, the following Label Studio-specific parameters from
<a class="reference internal" href="../api/fiftyone.utils.labelstudio.html#fiftyone.utils.labelstudio.LabelStudioBackendConfig" title="fiftyone.utils.labelstudio.LabelStudioBackendConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">LabelStudioBackendConfig</span></code></a>
can also be provided:</p>
<ul class="simple">
<li><p><strong>project_name</strong> (<em>None</em>): a name for the Label Studio project that will be
created. The default is <code class="code docutils literal notranslate"><span class="pre">"FiftyOne_&lt;dataset_name&gt;"</span></code></p></li>
</ul>
<div class="section" id="label-schema">
<span id="label-studio-label-schema"></span><h3>Label schema<a class="headerlink" href="#label-schema" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">label_schema</span></code>, <code class="code docutils literal notranslate"><span class="pre">label_field</span></code>, <code class="code docutils literal notranslate"><span class="pre">label_type</span></code>, <code class="code docutils literal notranslate"><span class="pre">classes</span></code>, and <code class="code docutils literal notranslate"><span class="pre">mask_targets</span></code>
parameters to
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a> allow
you to define the annotation schema that you wish to be used.</p>
<p>The label schema may define new label field(s) that you wish to populate, and
it may also include existing label field(s), in which case you can add, delete,
or edit the existing labels on your FiftyOne dataset.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">label_schema</span></code> argument is the most flexible way to define how to construct
tasks in Label Studio. In its most verbose form, it is a dictionary that
defines the label type, annotation type, and possible classes for each label
field:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">anno_key</span> <span class="o">=</span> <span class="s2">"..."</span>

<span class="n">label_schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"new_field"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"detections"</span><span class="p">,</span>
        <span class="s2">"classes"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"class1"</span><span class="p">,</span> <span class="s2">"class2"</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="s2">"existing_field"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"classes"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"class3"</span><span class="p">,</span> <span class="s2">"class4"</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">anno_key</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span> <span class="n">label_schema</span><span class="o">=</span><span class="n">label_schema</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, if you are only editing or creating a single label field, you
can use the <code class="code docutils literal notranslate"><span class="pre">label_field</span></code>, <code class="code docutils literal notranslate"><span class="pre">label_type</span></code>, <code class="code docutils literal notranslate"><span class="pre">classes</span></code>, and
<code class="code docutils literal notranslate"><span class="pre">mask_targets</span></code> parameters to specify the components of the label schema
individually:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">anno_key</span> <span class="o">=</span> <span class="s2">"..."</span>

<span class="n">label_field</span> <span class="o">=</span> <span class="s2">"new_field"</span><span class="p">,</span>
<span class="n">label_type</span> <span class="o">=</span> <span class="s2">"detections"</span>
<span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"class1"</span><span class="p">,</span> <span class="s2">"class2"</span><span class="p">]</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">anno_key</span><span class="p">,</span>
    <span class="n">backend</span><span class="o">=</span><span class="s2">"labelstudio"</span><span class="p">,</span>
    <span class="n">label_field</span><span class="o">=</span><span class="n">label_field</span><span class="p">,</span>
    <span class="n">label_type</span><span class="o">=</span><span class="n">label_type</span><span class="p">,</span>
    <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>When you are annotating existing label fields, you can omit some of these
parameters from
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>, as
FiftyOne can infer the appropriate values to use:</p>
<ul class="simple">
<li><p><strong>label_type</strong>: if omitted, the <a class="reference internal" href="../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code class="xref py py-class docutils literal notranslate"><span class="pre">Label</span></code></a> type of the field will be used to
infer the appropriate value for this parameter</p></li>
<li><p><strong>classes</strong>: if omitted for a non-semantic segmentation field, the class
lists from the <a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.classes" title="fiftyone.core.dataset.Dataset.classes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">classes</span></code></a> or
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_classes" title="fiftyone.core.dataset.Dataset.default_classes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">default_classes</span></code></a>
properties of your dataset will be used, if available. Otherwise, the
observed labels on your dataset will be used to construct a classes list</p></li>
<li><p><strong>mask_targets</strong>: if omitted for a semantic segmentation field, the mask
targets from the
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.mask_targets" title="fiftyone.core.dataset.Dataset.mask_targets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mask_targets</span></code></a> or
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_mask_targets" title="fiftyone.core.dataset.Dataset.default_mask_targets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">default_mask_targets</span></code></a>
properties of your dataset will be used, if available</p></li>
</ul>
</div>
<div class="section" id="label-attributes">
<span id="label-studio-label-attributes"></span><h3>Label attributes<a class="headerlink" href="#label-attributes" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Label Studio integration does not yet support
<a class="reference internal" href="../user_guide/annotation.html#annotation-label-attributes"><span class="std std-ref">annotating label attributes</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="loading-annotations">
<span id="label-studio-loading-annotations"></span><h2>Loading annotations<a class="headerlink" href="#loading-annotations" title="Permalink to this headline">¶</a></h2>
<p>After your annotations tasks in the annotation backend are complete, you can
use the
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>
method to download them and merge them back into your FiftyOne dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">view</span><span class="o">.</span><span class="n">load_annotations</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="code docutils literal notranslate"><span class="pre">anno_key</span></code> parameter is the unique identifier for the annotation run that
you provided when calling
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.annotate" title="fiftyone.core.collections.SampleCollection.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">annotate()</span></code></a>. You
can use
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.list_annotation_runs" title="fiftyone.core.collections.SampleCollection.list_annotation_runs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_annotation_runs()</span></code></a>
to see the available keys on a dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, calling
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>
will not delete any information for the run from the annotation backend.</p>
<p>However, you can pass <code class="code docutils literal notranslate"><span class="pre">cleanup=True</span></code> to delete all information associated
with the run from the backend after the annotations are downloaded.</p>
</div>
<p>You can use the optional <code class="code docutils literal notranslate"><span class="pre">dest_field</span></code> parameter to override the task’s
label schema and instead load annotations into different field name(s) of your
dataset. This can be useful, for example, when editing existing annotations, if
you would like to do a before/after comparison of the edits that you import. If
the annotation run involves multiple fields, <code class="code docutils literal notranslate"><span class="pre">dest_field</span></code> should be a
dictionary mapping label schema field names to destination field names.</p>
</div>
<div class="section" id="managing-annotation-runs">
<span id="label-studio-managing-annotation-runs"></span><h2>Managing annotation runs<a class="headerlink" href="#managing-annotation-runs" title="Permalink to this headline">¶</a></h2>
<p>FiftyOne provides a variety of methods that you can use to manage in-progress
or completed annotation runs.</p>
<p>For example, you can call
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.list_annotation_runs" title="fiftyone.core.collections.SampleCollection.list_annotation_runs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_annotation_runs()</span></code></a>
to see the available annotation keys on a dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">list_annotation_runs</span><span class="p">()</span>
</pre></div>
</div>
<p>Or, you can use
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.get_annotation_info" title="fiftyone.core.collections.SampleCollection.get_annotation_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_annotation_info()</span></code></a>
to retrieve information about the configuration of an annotation run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">info</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_annotation_info</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</pre></div>
</div>
<p>Use <a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotation_results" title="fiftyone.core.collections.SampleCollection.load_annotation_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotation_results()</span></code></a>
to load the <a class="reference internal" href="../api/fiftyone.utils.annotations.html#fiftyone.utils.annotations.AnnotationResults" title="fiftyone.utils.annotations.AnnotationResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">AnnotationResults</span></code></a>
instance for an annotation run.</p>
<p>All results objects provide a <a class="reference internal" href="../api/fiftyone.utils.annotations.html#fiftyone.utils.annotations.AnnotationResults.cleanup" title="fiftyone.utils.annotations.AnnotationResults.cleanup"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanup()</span></code></a>
method that you can use to delete all information associated with a run from
the annotation backend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">load_annotation_results</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
<p>In addition, the
<a class="reference internal" href="../api/fiftyone.utils.annotations.html#fiftyone.utils.annotations.AnnotationResults" title="fiftyone.utils.annotations.AnnotationResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">AnnotationResults</span></code></a>
subclasses for each backend may provide additional utilities such as support
for programmatically monitoring the status of the annotation tasks in the run.</p>
<p>You can use
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.rename_annotation_run" title="fiftyone.core.collections.SampleCollection.rename_annotation_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_annotation_run()</span></code></a>
to rename the annotation key associated with an existing annotation run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">rename_annotation_run</span><span class="p">(</span><span class="n">anno_key</span><span class="p">,</span> <span class="n">new_anno_key</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, you can use
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.delete_annotation_run" title="fiftyone.core.collections.SampleCollection.delete_annotation_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_annotation_run()</span></code></a>
to delete the record of an annotation run from your FiftyOne dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">delete_annotation_run</span><span class="p">(</span><span class="n">anno_key</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calling
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.delete_annotation_run" title="fiftyone.core.collections.SampleCollection.delete_annotation_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_annotation_run()</span></code></a>
only deletes the <strong>record</strong> of the annotation run from your FiftyOne
dataset; it will not delete any annotations loaded onto your dataset via
<a class="reference internal" href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.load_annotations" title="fiftyone.core.collections.SampleCollection.load_annotations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_annotations()</span></code></a>,
nor will it delete any associated information from the annotation backend.</p>
</div>
</div>
<div class="section" id="annotating-videos">
<span id="label-studio-annotating-videos"></span><h2>Annotating videos<a class="headerlink" href="#annotating-videos" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Label Studio integration does not currently support annotating videos.</p>
</div>
</div>
<div class="section" id="acknowledgements">
<span id="label-studio-acknowledgements"></span><h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Special thanks to <a class="reference external" href="https://github.com/Rusteam">Rustem Galiullin</a>,
<a class="reference external" href="https://github.com/tataganesh">Ganesh Tata</a>, and
<a class="reference external" href="https://github.com/bonlime">Emil Zakirov</a> for building this integration!</p>
</div>
</div>
</div>
</article>
</div>

</div>
</div>
<div class="pytorch-content-right" id="pytorch-content-right">
<div class="pytorch-right-menu" id="pytorch-right-menu">
<div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
<ul>
<li><a class="reference internal" href="#">Label Studio Integration</a><ul>
<li><a class="reference internal" href="#basic-recipe">Basic recipe</a></li>
<li><a class="reference internal" href="#setup">Setup</a><ul>
<li><a class="reference internal" href="#installing-the-label-studio-client">Installing the Label Studio client</a></li>
<li><a class="reference internal" href="#using-the-label-studio-backend">Using the Label Studio backend</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
<li><a class="reference internal" href="#server-url">Server URL</a></li>
<li><a class="reference internal" href="#configuring-local-file-storage">Configuring local file storage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#requesting-annotations">Requesting annotations</a><ul>
<li><a class="reference internal" href="#label-schema">Label schema</a></li>
<li><a class="reference internal" href="#label-attributes">Label attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-annotations">Loading annotations</a></li>
<li><a class="reference internal" href="#managing-annotation-runs">Managing annotation runs</a></li>
<li><a class="reference internal" href="#annotating-videos">Annotating videos</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</section>
</div>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js" type="text/javascript"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
<script src="../_static/js/voxel51-website.js"></script>
<script src="../_static/js/custom.js"></script>
<script src="../_static/js/vendor/popper.min.js" type="text/javascript"></script>
<script src="../_static/js/vendor/bootstrap.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
<script src="../_static/js/theme.js" type="text/javascript"></script>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<!-- Begin Footer -->


<!-- End Footer -->
<!-- Begin Mobile Menu -->

<!-- End Mobile Menu -->
<script src="../_static/js/vendor/anchor.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>