
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Dataset Versioning ‚Äî FiftyOne 1.3.0 documentation</title>
<link href="../_static/favicon.ico" rel="shortcut icon"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
<link href="../_static/css/voxel51-website.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="teams_app.html" rel="next" title="FiftyOne Teams App"/>
<link href="roles_and_permissions.html" rel="prev" title="Roles and permissions"/>
<meta content="https://voxel51.com/wp-content/uploads/2024/03/3.24_webpages_Home_AV.png" property="og:image">
<link href="https://fonts.googleapis.com/css?family=Palanquin:400,600,700,800" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet"/>
<script src="https://tag.clearbitscripts.com/v1/pk_b9ed71c8234edd4f77326bcbfab5a4ca/tags.js"></script>
<script src="../_static/js/modernizr.min.js"></script>
</meta></head>

<body class="pytorch-body">
<div class="table-of-contents-link-wrapper">
<span>Table of Contents</span>
<a class="toggle-table-of-contents" data-behavior="toggle-table-of-contents" href="#"></a>
</div>
<nav class="pytorch-left-menu" data-toggle="wy-nav-shift" id="pytorch-left-menu">
<div class="pytorch-side-scroll">
<div aria-label="main navigation" class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation">
<div class="pytorch-left-menu-search">
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search Docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">FiftyOne Teams üöÄ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments/index.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheat_sheets/index.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataset_zoo/index.html">Dataset Zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo/index.html">Model Zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../brain.html">FiftyOne Brain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations/index.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/fiftyone.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecation.html">Deprecation Notices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>
</div>
</div>
</nav>
<div class="pytorch-container">
<div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
<div class="pytorch-breadcrumbs-wrapper">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="pytorch-breadcrumbs">
<li>
<a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>
<li><a href="index.html">FiftyOne Teams</a> &gt;</li>
<li>Dataset Versioning</li>
<li class="pytorch-breadcrumbs-aside">
</li>
</ul>
</div>
</div>
<div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Contents
        </div>
</div>
<section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
<div class="pytorch-content-left">
<div class="rst-content style-external-links">
<div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
<div class="section" id="dataset-versioning">
<span id="id1"></span><h1>Dataset Versioning<a class="headerlink" href="#dataset-versioning" title="Permalink to this headline">¬∂</a></h1>
<p>FiftyOne Teams provides native support for versioning your datasets!</p>
<p>Dataset Versioning allows you to capture the state of your dataset in time so
that it can be referenced in the future. This enables workflows like recalling
particular important events in the dataset‚Äôs lifecycle (model trained,
annotation added, etc) as well as helping to prevent accidental data loss.</p>
<div style="margin-top: 20px; margin-bottom: 20px">
<iframe allowfullscreen="" frameborder="0" id="youtube" src="https://www.youtube.com/embed/DKUkiDQVDqA?rel=0">
</iframe>
</div><div class="section" id="overview">
<span id="dataset-versioning-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¬∂</a></h2>
<p>Dataset Versioning in FiftyOne Teams is implemented as a linear sequence of
read-only <a class="reference internal" href="#dataset-versioning-snapshots"><span class="std std-ref">Snapshots</span></a>. In other words,
creating a new Snapshot creates a permanent record of the dataset‚Äôs contents
that can be loaded and viewed at any time in the future, but not directly
edited. Conversely, the current version of a dataset is called its HEAD
(think git). If you have not explicitly loaded a Snapshot, you are viewing its
HEAD, and you can make additions, updates, and deletions to the dataset‚Äôs
contents as you normally would (provided you have sufficient permissions).</p>
<p>Snapshots record all aspects of your data stored within FiftyOne, including
dataset-level information, schema, samples, frames, brain runs, and
evaluations. However, Snapshots exclude any information stored in external
services, such as media stored in cloud buckets or embeddings stored in an
external vector database, which are assumed to be immutable. If you need to
update the image for a sample in a dataset, for example, update the sample‚Äôs
filepath‚Äî-which is tracked by snapshots‚Äî-rather than updating the media in
cloud storage in-place‚Äî-which would not be tracked by snapshots. This design
allows dataset snapshots to be as lightweight and versatile as possible.</p>
<p>Dataset Versioning has been built with an extensible architecture so that
different versioning backends can be swapped in. Each backend may have
different tradeoffs in terms of performance, storage, and deployment needs, so
users should be able to choose the best fit for their needs. In addition, many
users may already have a versioning solution external to FiftyOne Teams, and
the goal is to support integration around those use cases as well.</p>
<p>Currently, only the
<a class="reference internal" href="#internal-duplication-backend"><span class="std std-ref">internal duplication backend</span></a> is
available, but further improvements and implementing additional backend choices
are <a class="reference internal" href="#dataset-versioning-roadmap"><span class="std std-ref">on the roadmap</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Dataset Versioning is not a replacement for database backups. We strongly
encourage the use of regular data backups and good storage maintenance
processes.</p>
</div>
</div>
<div class="section" id="snapshots">
<span id="dataset-versioning-snapshots"></span><h2>Snapshots<a class="headerlink" href="#snapshots" title="Permalink to this headline">¬∂</a></h2>
<p>Dataset Versioning in FiftyOne Teams is implemented as a linear history of
<strong>Snapshots</strong>. A Snapshot captures the state of a dataset at a particular point
in time as an immutable object. Compare this concept to creating commits and
tags in a single branch of a version control system such as git or svn; a
Snapshot is a commit and tag (including readable name, description, creator)
all in one.</p>
<p>The current working version of the dataset (called the <strong>HEAD</strong>) can be edited
by anyone with appropriate permissions, as normal. Since Snapshots include a
commit-like operation, they can only be created on the dataset HEAD.</p>
<div class="section" id="snapshot-states">
<h3>Snapshot states<a class="headerlink" href="#snapshot-states" title="Permalink to this headline">¬∂</a></h3>
<p>Snapshots can be in a few different states of existence depending on deployment
choices and user actions.</p>
<dl class="glossary simple">
<dt id="term-Materialized-Snapshot">Materialized Snapshot<a class="headerlink" href="#term-Materialized-Snapshot" title="Permalink to this term">¬∂</a></dt><dd><p>A Snapshot whose state and contents are entirely <em>materialized</em> in
the MongoDB database. The Snapshot is ‚Äúready to go‚Äù and be loaded
instantly for analysis and visualization.</p>
</dd>
<dt id="term-Archived-Snapshot">Archived Snapshot<a class="headerlink" href="#term-Archived-Snapshot" title="Permalink to this term">¬∂</a></dt><dd><p>A materialized Snapshot that has been archived to cold storage to
free up working space in the MongoDB instance. The Snapshot cannot be
loaded by users until it is re-materialized into MongoDB. Since it is
stored in its materialized form already though, an archived Snapshot
can be re-materialized easily, at merely the cost of network transfer
and MongoDB write latencies. See <a class="reference internal" href="#dataset-versioning-snapshot-archival"><span class="std std-ref">here</span></a>
for more.</p>
</dd>
<dt id="term-Virtual-Snapshot">Virtual Snapshot<a class="headerlink" href="#term-Virtual-Snapshot" title="Permalink to this term">¬∂</a></dt><dd><p>A Snapshot whose state and contents are stored by the pluggable backend
versioning implementation in whatever way it chooses. In order to be
loaded by FiftyOne Teams users, the Snapshot must be <em>materialized</em>
into its workable form in MongoDB. This is done through a combination
of the overarching versioning infrastructure and the specific
versioning backend.</p>
</dd>
</dl>
<p>For a given Snapshot, the virtual form always exists. It may also be
materialized, archived, or both (in the case that an archived Snapshot has
been re-materialized but kept in cold storage also).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With the <a class="reference internal" href="#internal-duplication-backend"><span class="std std-ref">internal duplication backend</span></a>
there is no distinction between materialized and virtual Snapshots since by
definition the implementation uses materialized Snapshots as its method of
storage.</p>
</div>
</div>
<div class="section" id="snapshot-archival">
<span id="dataset-versioning-snapshot-archival"></span><h3>Snapshot archival<a class="headerlink" href="#snapshot-archival" title="Permalink to this headline">¬∂</a></h3>
<p>Snapshot your datasets easier knowing your database won‚Äôt be overrun!</p>
<p>If your snapshots are important for historical significance but aren‚Äôt used
very often, then you can consider archiving snapshots. This is especially
helpful with the
<a class="reference internal" href="#internal-duplication-backend"><span class="std std-ref">internal duplication backend</span></a> where
creating snapshots causes database storage to grow quickly!</p>
<p>When a snapshot is archived, all of its contents are stored in an archive in
the configured cold storage location: either a mounted filesystem or cloud
storage folder (using your deployment‚Äôs
<a class="reference internal" href="installation.html#teams-cloud-credentials"><span class="std std-ref">cloud credentials</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Snapshots must be unarchived in order to browse them in the UI or load them
with the SDK.</p>
</div>
<div class="section" id="automatic-archival">
<span id="dataset-versioning-automatic-archival"></span><h4>Automatic archival<a class="headerlink" href="#automatic-archival" title="Permalink to this headline">¬∂</a></h4>
<p>If snapshot archival is enabled, snapshots will automatically be archived
to make room for newer snapshots as necessary. This can be triggered when a
snapshot is created or unarchived, which would then put the number of snapshots
in the database above one of the
<a class="reference internal" href="#dataset-versioning-configuration"><span class="std std-ref">configured limits</span></a>.</p>
<p>If the total materialized snapshots limit is exceeded, then the snapshot
that was least-recently loaded will be automatically archived.</p>
<p>If the materialized snapshots per-dataset limit is exceeded, then the snapshot
<em>within the dataset</em> that was least-recently loaded will be archived.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some snapshots will not be chosen for automatic archival, even if they
would otherwise qualify based on their last load time: the most recent
snapshot for each dataset, and those that have been loaded within the
configured age requirement.</p>
</div>
<p>If no snapshot can be automatically archived then the triggering event will
report an error and fail. This can be fixed by deleting snapshots, manually
archiving snapshots, or changing deployment configuration values.</p>
</div>
<div class="section" id="manual-archival">
<span id="dataset-versioning-manual-archival"></span><h4>Manual archival<a class="headerlink" href="#manual-archival" title="Permalink to this headline">¬∂</a></h4>
<p>Users with Can Manage permissions to a dataset can manually archive snapshots
<a class="reference internal" href="#dataset-versioning-archive-snapshot"><span class="std std-ref">via the UI or management SDK</span></a>.</p>
</div>
<div class="section" id="unarchival">
<h4>Unarchival<a class="headerlink" href="#unarchival" title="Permalink to this headline">¬∂</a></h4>
<p>While a snapshot is archived, you cannot browse it in the UI or load with
the SDK.</p>
<p>To enable browsing or loading again, the snapshot can be unarchived
<a class="reference internal" href="#dataset-versioning-unarchive-snapshot"><span class="std std-ref">via the UI or management SDK</span></a>.</p>
</div>
<div class="section" id="usage-notes">
<h4>Usage notes<a class="headerlink" href="#usage-notes" title="Permalink to this headline">¬∂</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the most recent snapshot is archived then the latest changes in HEAD
cannot be calculated and may be reported as unknown.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a snapshot is deleted, the change summary for the following snapshot
must be recomputed against the previous snapshot. However, if either of
these snapshots are currently archived then the change summary cannot be
recomputed and may be reported as unknown.</p>
</div>
</div>
</div>
</div>
<div class="section" id="snapshot-permissions">
<span id="dataset-versioning-snapshot-permissions"></span><h2>Snapshot permissions<a class="headerlink" href="#snapshot-permissions" title="Permalink to this headline">¬∂</a></h2>
<p>The table below shows the <a class="reference internal" href="roles_and_permissions.html#teams-permissions"><span class="std std-ref">dataset permissions</span></a>
required to perform different Snapshot-related operations:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%"/>
<col style="width: 17%"/>
<col style="width: 17%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Snapshot Operation</p></th>
<th class="head" colspan="3"><p>User Permissions on Dataset</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>Can View</p></td>
<td><p>Can Edit</p></td>
<td><p>Can Manage</p></td>
</tr>
<tr class="row-odd"><td><p>Browse Snapshot in App</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Load Snapshot in SDK</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Create Snapshot</p></td>
<td></td>
<td></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Delete Snapshot</p></td>
<td></td>
<td></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Archive Snapshot</p></td>
<td></td>
<td></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Unarchive Snapshot</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Revert dataset to Snapshot</p></td>
<td></td>
<td></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Edit Snapshot‚Äôs contents</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="using-snapshots">
<span id="dataset-versioning-using-snapshots"></span><h2>Using snapshots<a class="headerlink" href="#using-snapshots" title="Permalink to this headline">¬∂</a></h2>
<p>In contrast to a dataset‚Äôs HEAD, Snapshots are <strong>read-only</strong>. When viewing in
the App, the UI is similar to interacting with a HEAD dataset, but users will
not be able to make any edits to the objects. Similarly, when using the
FiftyOne SDK, users will not be able to perform any operation that would
trigger a modification to the stored dataset.</p>
<div class="section" id="list-snapshots">
<span id="dataset-versioning-list-snapshots"></span><h3>List snapshots<a class="headerlink" href="#list-snapshots" title="Permalink to this headline">¬∂</a></h3>
<div class="section" id="teams-ui">
<h4>Teams UI<a class="headerlink" href="#teams-ui" title="Permalink to this headline">¬∂</a></h4>
<p>To access the Snapshot history and management page, click the ‚ÄúHistory tab‚Äù on
a dataset‚Äôs main page.</p>
<img alt="history-tab-button" class="align-center" src="../_images/history-tab-button.png"/>
<p>On this page you can see a listing of the Snapshot history for the dataset.
Each row contains information about a single Snapshot.</p>
<img alt="snapshot-list" class="align-center" src="../_images/snapshot-list.png"/>
</div>
<div class="section" id="sdk">
<h4>SDK<a class="headerlink" href="#sdk" title="Permalink to this headline">¬∂</a></h4>
<p>You can also list Snapshot names for a dataset using the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">list_snapshots()</span></code> method
from the Management SDK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">dataset_name</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">fom</span><span class="o">.</span><span class="n">list_snapshots</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Then you can get more detailed information on a single Snapshot using the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_snapshot_info()</span></code>
method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>

<span class="n">fom</span><span class="o">.</span><span class="n">get_snapshot_info</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="loading-snapshots">
<span id="dataset-versioning-loading-snapshots"></span><h3>Loading snapshots<a class="headerlink" href="#loading-snapshots" title="Permalink to this headline">¬∂</a></h3>
<p>Any user with Can View permissions to a dataset can view and load its snapshots
via the Teams UI or the SDK.</p>
<div class="section" id="id2">
<h4>Teams UI<a class="headerlink" href="#id2" title="Permalink to this headline">¬∂</a></h4>
<p>From the dataset‚Äôs History tab, click the ‚ÄúBrowse‚Äù button next to a Snapshot in
the <a class="reference internal" href="#dataset-versioning-list-snapshots"><span class="std std-ref">snapshot list</span></a> to load the
Snapshot in the UI.</p>
<img alt="history-browse-button" class="align-center" src="../_images/browse-button.png"/>
<p>This will open the Snapshot in the normal dataset samples UI with all your
favorite FiftyOne visualization tools at your fingertips! However, all
dataset-modification features such as tagging have been removed.</p>
<p>We can also link directly to this Snapshot page by copying the URL from the
address bar or from the ‚ÄúShare Dataset‚Äù page which opens from the ‚ÄúShare‚Äù
button. For the above Snapshot, it would look like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://&lt;your-teams-url&gt;/datasets/roadscene-vehicle-detection/samples?snapshot=new+snapshot
</pre></div>
</div>
<p>One other difference from the normal page is the Snapshot banner which gives
information about the Snapshot being viewed, and other quick-click operations.
Clicking the name line drops down a list of the Snapshots where the current one
is highlighted. Clicking on a Snapshot in the dropdown will navigate to the
browse page for that Snapshot.</p>
<img alt="browse-banner-dropdown" class="align-center" src="../_images/browse-banner-dropdown.png"/>
<p>On the right side of the banner, clicking the ‚ÄúBack to the latest version‚Äù
button will take you back to the samples page for the dataset HEAD. You can
also do this by clicking the ‚ÄúSamples‚Äù tab. There is also a convenient dropdown
from the 3-dot (kebab) menu which gives various
<a class="reference internal" href="#dataset-versioning-snapshot-management"><span class="std std-ref">management functions</span></a> for the
current Snapshot.</p>
<img alt="browse-banner-rightside" class="align-center" src="../_images/browse-banner-right.png"/>
</div>
<div class="section" id="id3">
<h4>SDK<a class="headerlink" href="#id3" title="Permalink to this headline">¬∂</a></h4>
<p>Snapshots can also be loaded via the FiftyOne SDK
<a class="reference internal" href="../api/fiftyone.core.dataset.html#fiftyone.core.dataset.load_dataset" title="fiftyone.core.dataset.load_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_dataset()</span></code></a> method. The
following snippet will load an existing Snapshot of a dataset. It can then be
interacted with as if it is a normal dataset, except for any operations that
would cause modifications.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone</span> <span class="k">as</span> <span class="nn">fo</span>

<span class="n">dataset_name</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">existing_snapshot_name</span> <span class="o">=</span> <span class="s2">"v1"</span>

<span class="n">snapshot</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">,</span> <span class="n">snapshot</span><span class="o">=</span><span class="n">existing_snapshot_name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="snapshot-management">
<span id="dataset-versioning-snapshot-management"></span><h2>Snapshot management<a class="headerlink" href="#snapshot-management" title="Permalink to this headline">¬∂</a></h2>
<p>The following sections describe how to create and use snapshots.</p>
<div class="section" id="creating-a-snapshot">
<span id="dataset-versioning-creating-snapshot"></span><h3>Creating a snapshot<a class="headerlink" href="#creating-a-snapshot" title="Permalink to this headline">¬∂</a></h3>
<p>Users with Can Manage permissions to a dataset can create Snapshots through the
Teams UI or the Management SDK.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Snapshots can only be created from the HEAD of the dataset.</p>
</div>
<div class="section" id="id4">
<h4>Teams UI<a class="headerlink" href="#id4" title="Permalink to this headline">¬∂</a></h4>
<p>At the top of the History tab for a dataset is the Create snapshot panel.
This panel shows the number of changes that have happened between the last
Snapshot and the current state of the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The latest changes summary is not continuously updated; click the ‚ÄúRefresh‚Äù
button to recompute these values.</p>
</div>
<img alt="create-refresh-button" class="align-center" src="../_images/create-refresh-button.png"/>
<p>To create a Snapshot, provide a unique name and an optional description, then
click the ‚ÄúSave new snapshot‚Äù button.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the <a class="reference internal" href="#dataset-versioning-backends"><span class="std std-ref">versioning backend</span></a>
used, deployment options chosen, and the size of the dataset, this may take
some time.</p>
</div>
<img alt="create-save-button" class="align-center" src="../_images/create-save-button.png"/>
<p>After creation, the new Snapshot will show up in the list!</p>
<img alt="history-new-snapshot" class="align-center" src="../_images/history-new-snapshot.png"/>
</div>
<div class="section" id="id5">
<h4>SDK<a class="headerlink" href="#id5" title="Permalink to this headline">¬∂</a></h4>
<p>You can also create Snapshots via the Management SDK.</p>
<p>To get the latest changes summary as in the Create snapshot panel, use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_dataset_latest_changes_summary()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">fom</span><span class="o">.</span><span class="n">get_dataset_latest_changes_summary</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>To recalculate the latest changes summary as in the Refresh button in that
panel, use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_dataset_latest_changes_summary()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">old</span> <span class="o">=</span> <span class="n">fom</span><span class="o">.</span><span class="n">calculate_dataset_latest_changes_summary</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">old</span> <span class="o">==</span> <span class="n">fom</span><span class="o">.</span><span class="n">get_dataset_latest_changes_summary</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Cached summary hasn't been updated</span>
<span class="k">assert</span> <span class="n">old</span> <span class="o">==</span> <span class="n">fom</span><span class="o">.</span><span class="n">get_dataset_latest_changes_summary</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="n">new</span> <span class="o">=</span> <span class="n">fom</span><span class="o">.</span><span class="n">calculate_dataset_latest_changes_summary</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">new</span><span class="o">.</span><span class="n">updated_at</span> <span class="o">&gt;</span> <span class="n">changes</span><span class="o">.</span><span class="n">updated_at</span>
</pre></div>
</div>
<p>To create a new Snapshot, use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">create_snapshot()</span></code>
method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">dataset_name</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">"Version 0.1 in which I have made many awesome changes!"</span>
<span class="n">snapshot</span> <span class="o">=</span> <span class="n">fom</span><span class="o">.</span><span class="n">create_snapshot</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="deleting-a-snapshot">
<span id="dataset-versioning-delete-snapshot"></span><h3>Deleting a snapshot<a class="headerlink" href="#deleting-a-snapshot" title="Permalink to this headline">¬∂</a></h3>
<p>Users with Can Manage permissions to a dataset can delete snapshots through the
Teams UI or the Management SDK.</p>
<p>If the Snapshot is the most recent, the latest (HEAD) sample changes summary is
not automatically recalculated. See
<a class="reference internal" href="#dataset-versioning-creating-snapshot"><span class="std std-ref">this section</span></a> to see how to
recalculate these now-stale values.</p>
<p>If the Snapshot is <em>not</em> the most recent, the sample change summary for the
following Snapshot will be automatically recalculated based on the previous
Snapshot.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deleting a Snapshot cannot be undone!</p>
</div>
<div class="section" id="id6">
<h4>Teams UI<a class="headerlink" href="#id6" title="Permalink to this headline">¬∂</a></h4>
<p>To delete a Snapshot via the App, open the 3-dot (kebab) menu for the Snapshot.
In the menu, click ‚ÄúDelete snapshot‚Äù. This will bring up a confirmation dialog
to prevent accidental deletions.</p>
<img alt="delete-snapshot" class="align-center" src="../_images/delete-snapshot.png"/>
</div>
<div class="section" id="id7">
<h4>SDK<a class="headerlink" href="#id7" title="Permalink to this headline">¬∂</a></h4>
<p>You can also use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_snapshot()</span></code> method
in the Management SDK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>
<span class="n">fom</span><span class="o">.</span><span class="n">delete_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rollback-dataset-to-snapshot">
<span id="dataset-versioning-rollback-to-snapshot"></span><h3>Rollback dataset to snapshot<a class="headerlink" href="#rollback-dataset-to-snapshot" title="Permalink to this headline">¬∂</a></h3>
<p>In case unwanted edits have been added to the dataset HEAD, FiftyOne provides
the ability for dataset Managers to roll the dataset back (revert) to the state
of a given Snapshot.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is a destructive operation! Rolling back to a Snapshot discards
<strong>all</strong> changes between the selected Snapshot and the current working
version of the dataset, including all newer Snapshots.</p>
</div>
<div class="section" id="id8">
<h4>Teams UI<a class="headerlink" href="#id8" title="Permalink to this headline">¬∂</a></h4>
<p>To revert a dataset to a Snapshot‚Äôs state, click the 3-dot (kebab) menu in
the History tab for the Snapshot you want to rollback to and select
‚ÄúRollback to this snapshot‚Äù. This will bring up a confirmation dialog to
prevent accidental deletions.</p>
<img alt="rollback-snapshot" class="align-center" src="../_images/rollback-snapshot.png"/>
</div>
<div class="section" id="id9">
<h4>SDK<a class="headerlink" href="#id9" title="Permalink to this headline">¬∂</a></h4>
<p>You can also use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">revert_dataset_to_snapshot()</span></code>
method in the Management SDK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="s2">"quickstart"</span>
<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">"Initial dataset snapshot"</span>
<span class="n">fom</span><span class="o">.</span><span class="n">create_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>

<span class="c1"># Oops we deleted everything!</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">"id"</span><span class="p">))</span>

<span class="c1"># Phew!</span>
<span class="n">fom</span><span class="o">.</span><span class="n">revert_dataset_to_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>

<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="archive-snapshot">
<span id="dataset-versioning-archive-snapshot"></span><h3>Archive snapshot<a class="headerlink" href="#archive-snapshot" title="Permalink to this headline">¬∂</a></h3>
<p>Users with Can Manage permissions to a dataset can manually
<a class="reference internal" href="#dataset-versioning-automatic-archival"><span class="std std-ref">archive snapshots</span></a> to the
configured cold storage location via the UI or the Management SDK.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users cannot browse archived snapshots via the UI or load them via the SDK.
The snapshot must first be
<a class="reference internal" href="#dataset-versioning-unarchive-snapshot"><span class="std std-ref">unarchived</span></a>.</p>
</div>
<div class="section" id="id10">
<h4>Teams UI<a class="headerlink" href="#id10" title="Permalink to this headline">¬∂</a></h4>
<p>To manually archive a snapshot, click the 3-dot (kebab) menu in the History tab
for a snapshot you want to archive and select ‚ÄúArchive snapshot‚Äù. This will
begin the archival process and the browse button will be replaced with an
‚ÄúArchiving‚Äù spinner‚Äù:</p>
<img alt="archive-snapshot" class="align-center" src="../_images/archive-snapshot.png"/>
</div>
<div class="section" id="id11">
<h4>SDK<a class="headerlink" href="#id11" title="Permalink to this headline">¬∂</a></h4>
<p>You can also use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">archive_snapshot()</span></code>
method in the Management SDK:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone</span> <span class="k">as</span> <span class="nn">fo</span>
<span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>

<span class="c1"># We don't use this regularly, archive it!</span>
<span class="n">fom</span><span class="o">.</span><span class="n">archive_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>

<span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span> <span class="c1"># throws error, can't load!</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unarchive-snapshot">
<span id="dataset-versioning-unarchive-snapshot"></span><h3>Unarchive snapshot<a class="headerlink" href="#unarchive-snapshot" title="Permalink to this headline">¬∂</a></h3>
<p>To make an archived snapshot browsable again, users with Can Manage
permissions to the dataset can unarchive it via the UI or Management SDK.</p>
<div class="section" id="id12">
<h4>Teams UI<a class="headerlink" href="#id12" title="Permalink to this headline">¬∂</a></h4>
<p>To unarchive a snapshot, click the ‚ÄúUnarchive‚Äù button in the History tab for a
snapshot you want to unarchive. This will begin the unarchival process and the
archive button will be replaced with an ‚ÄúUnarchiving‚Äù spinner:</p>
<img alt="unarchive-snapshot" class="align-center" src="../_images/unarchive-snapshot.png"/>
</div>
<div class="section" id="id13">
<h4>SDK<a class="headerlink" href="#id13" title="Permalink to this headline">¬∂</a></h4>
<p>You can also use the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">unarchive_snapshot()</span></code>
method in the Management SDK:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fiftyone</span> <span class="k">as</span> <span class="nn">fo</span>
<span class="kn">import</span> <span class="nn">fiftyone.management</span> <span class="k">as</span> <span class="nn">fom</span>

<span class="n">snapshot_name</span> <span class="o">=</span> <span class="s2">"v0.1"</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">"Initial dataset snapshot"</span>

<span class="c1"># We don't use this regularly, archive it!</span>
<span class="n">fom</span><span class="o">.</span><span class="n">archive_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>
<span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span> <span class="c1"># throws error, can't load!</span>

<span class="c1"># Oops we need it now, unarchive it!</span>
<span class="n">fom</span><span class="o">.</span><span class="n">unarchive_snapshot</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span>
<span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">snapshot_name</span><span class="p">)</span> <span class="c1"># works now!</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pluggable-backends">
<span id="dataset-versioning-backends"></span><h2>Pluggable backends<a class="headerlink" href="#pluggable-backends" title="Permalink to this headline">¬∂</a></h2>
<p>Dataset versioning was built with an extensible architecture to support
different versioning backend implementations being built and swapped in to
better suit the users‚Äô needs and technology preferences. In the future, this
section will contain information and discussion about each of these available
backends, including their strengths/limitations and configuration options.</p>
<p>For the initial release in FiftyOne Teams v1.4.0, however, there is only one
backend choice described below. Additional backends may be implemented in the
future, but for now, releasing dataset versioning with the first
iteration was prioritized so that users can begin to see value and provide
feedback as soon as possible.</p>
<div class="section" id="internal-duplication-backend">
<span id="id14"></span><h3>Internal duplication backend<a class="headerlink" href="#internal-duplication-backend" title="Permalink to this headline">¬∂</a></h3>
<p>This backend is similar to cloning a dataset; Snapshots are stored in the same
MongoDB database as the original dataset.</p>
<p>Creating a Snapshot with this backend is similar to cloning a dataset in terms
of performance and storage needs.</p>
<p>Creating a Snapshot should take roughly the same amount of time as cloning the
dataset, and so is proportional to the size of the dataset being versioned.</p>
<p>At this time, Snapshots are stored in the same database as the original dataset.</p>
<p>These requirements should be taken into consideration when using Snapshots and
when determining values for the
<a class="reference internal" href="#dataset-versioning-configuration"><span class="std std-ref">max number of Snapshots allowed</span></a>.</p>
<div class="section" id="time-and-space">
<h4>Time and space<a class="headerlink" href="#time-and-space" title="Permalink to this headline">¬∂</a></h4>
<p><strong>Time</strong></p>
<p>The create Snapshot operation takes time proportional to cloning the dataset.
This backend is the most performant when creating a Snapshot then immediately
loading it for use; while other backends would have to store the virtual
Snapshot and then materialize it, this one simply does one big intra-MongoDB
clone.</p>
<p>Additionally, change summary calculation can be slow.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In v1.4.0, calculating number of samples modified in particular can
cause slowdown with larger datasets. This value is not computed for
datasets larger than 200 thousand samples.</p>
</div>
<p><strong>Space</strong></p>
<p>The amount of storage required scales with the number of Snapshots created, not
the volume of changes. Since it is stored in the same database as normal
datasets, creating too many Snapshots without the ability to archive them
could fill up the database.</p>
</div>
<div class="section" id="strengths">
<h4>Strengths<a class="headerlink" href="#strengths" title="Permalink to this headline">¬∂</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%"/>
<col style="width: 95%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p>‚úÖ</p></td>
<td><p>Simple</p></td>
</tr>
<tr class="row-even"><td><p>‚úÖ</p></td>
<td><p>Uses existing MongoDB; no extra deployment components</p></td>
</tr>
<tr class="row-odd"><td><p>‚úÖ</p></td>
<td><p>Browsing/loading is fast because the Snapshots are always materialized</p></td>
</tr>
<tr class="row-even"><td><p>‚úÖ</p></td>
<td><p>For a create-then-load workflow, it has the lowest overhead cost of
any backend since materialized and virtual forms are one and the same</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="limitations">
<h4>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¬∂</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%"/>
<col style="width: 95%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p>‚ùå</p></td>
<td><p>Creating a Snapshot takes time proportional to clone dataset</p></td>
</tr>
<tr class="row-even"><td><p>‚ùå</p></td>
<td><p>Calculating sample change summaries is less efficient</p></td>
</tr>
<tr class="row-odd"><td><p>‚ùå</p></td>
<td><p>Storage is highly duplicative</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¬∂</a></h4>
<p>There are no unique configuration options for this backend.</p>
</div>
</div>
</div>
<div class="section" id="usage-considerations">
<span id="dataset-versioning-usage-considerations"></span><h2>Usage considerations<a class="headerlink" href="#usage-considerations" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="best-practices">
<h3>Best practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¬∂</a></h3>
<p>As this feature matures, we will have better recommendations for best practices.
For now given the limited starting options in the initial iteration, we have the
following advice:</p>
<ul class="simple">
<li><p>Use snapshots on smaller datasets if possible.</p></li>
<li><p>Since space is at a premium, limit creation of snapshots to marking milestone
events which you want to revisit or restore later.</p></li>
<li><p>Delete old snapshots you don‚Äôt need anymore.</p></li>
<li><p>Set the <a class="reference internal" href="#dataset-versioning-configuration"><span class="std std-ref">versioning configuration</span></a>
to the highest your deployment can comfortably support, to better enable
user workflows without breaking the (MongoDB) bank.</p></li>
</ul>
</div>
<div class="section" id="dataset-versioning-configuration">
<span id="id15"></span><h3>Configuration<a class="headerlink" href="#dataset-versioning-configuration" title="Permalink to this headline">¬∂</a></h3>
<p>Since Snapshots impact the storage needs of FiftyOne Teams, some guard rails
have been put in place to control the maximum amount of Snapshots that can be
created. If a threshold has been exceeded while a user attempts to create a
new Snapshot, they will receive an error informing them that it may be time to
remove old Snapshots.</p>
<p>The configurations allowed are described in the table below. Adjusting these
defaults should be done in consideration with the needs of the team and the
storage requirements necessary.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%"/>
<col style="width: 27%"/>
<col style="width: 6%"/>
<col style="width: 48%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Config name</p></th>
<th class="head"><p>Environment variable</p></th>
<th class="head" colspan="2"><p>Default | Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Maximum total Snapshots</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FIFTYONE_SNAPSHOTS_MAX_IN_DB</span></code></p></td>
<td><p>100</p></td>
<td><p>The max total number of Snapshots allowed at once. -1 for no limit. If this
limit is exceeded then automatic archival is triggered if enabled,
otherwise an error is raised.</p></td>
</tr>
<tr class="row-odd"><td><p>Maximum Snapshots per-dataset</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FIFTYONE_SNAPSHOTS_MAX_PER_DATASET</span></code></p></td>
<td><p>20</p></td>
<td><p>The max number of Snapshots allowed per dataset. -1 for no limit. If this
limit is exceeded then automatic archival is triggered if enabled,
otherwise an error is raised.</p></td>
</tr>
<tr class="row-even"><td><p>Snapshot Archive Path</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FIFTYONE_SNAPSHOTS_ARCHIVE_PATH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Full path to network-mounted file system or a cloud storage path to use for
snapshot archive storage. The default <code class="docutils literal notranslate"><span class="pre">None</span></code> means archival is disabled.</p></td>
</tr>
<tr class="row-odd"><td><p>Automatic Archival Min Age</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FIFTYONE_SNAPSHOTS_MIN_LAST_LOADED_SEC</span></code></p></td>
<td><p>86400</p></td>
<td><p>The minimum last-loaded age in seconds (as defined by <code class="docutils literal notranslate"><span class="pre">now-last_loaded_at</span></code>
) a snapshot must meet to be considered for automatic archival. This limit
is intended to help curtail automatic archival of a snapshot a user is
actively working with. The default value is 1 day.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="roadmap">
<span id="dataset-versioning-roadmap"></span><h2>Roadmap<a class="headerlink" href="#roadmap" title="Permalink to this headline">¬∂</a></h2>
<p>The following are some items that are on the roadmap for future iterations
of the dataset versioning system. Keep an eye out for future FiftyOne Teams
versions for these additional features!</p>
<p><strong>Near term</strong></p>
<ul class="simple">
<li><p>Optimize diff computation for larger datasets (over 200k samples) and add
support for modification summaries for these datasets</p></li>
</ul>
<p><strong>Longer term</strong></p>
<ul class="simple">
<li><p>Further optimize existing versioning system</p></li>
<li><p>Support external versioning backends</p></li>
<li><p>Searching Snapshots</p></li>
<li><p>Content-aware Snapshot change summaries</p></li>
</ul>
<p><strong>Exploratory</strong></p>
<ul class="simple">
<li><p>Visualization of Snapshot diffs</p></li>
<li><p>Implement a branch-and-merge model</p></li>
<li><p>Deep integrations with versioning backend tools to version FiftyOne
datasets alongside your models and media</p></li>
</ul>
</div>
</div>
</article>
</div>

</div>
</div>
<div class="pytorch-content-right" id="pytorch-content-right">
<div class="pytorch-right-menu" id="pytorch-right-menu">
<div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
<ul>
<li><a class="reference internal" href="#">Dataset Versioning</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#snapshots">Snapshots</a><ul>
<li><a class="reference internal" href="#snapshot-states">Snapshot states</a></li>
<li><a class="reference internal" href="#snapshot-archival">Snapshot archival</a><ul>
<li><a class="reference internal" href="#automatic-archival">Automatic archival</a></li>
<li><a class="reference internal" href="#manual-archival">Manual archival</a></li>
<li><a class="reference internal" href="#unarchival">Unarchival</a></li>
<li><a class="reference internal" href="#usage-notes">Usage notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#snapshot-permissions">Snapshot permissions</a></li>
<li><a class="reference internal" href="#using-snapshots">Using snapshots</a><ul>
<li><a class="reference internal" href="#list-snapshots">List snapshots</a><ul>
<li><a class="reference internal" href="#teams-ui">Teams UI</a></li>
<li><a class="reference internal" href="#sdk">SDK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-snapshots">Loading snapshots</a><ul>
<li><a class="reference internal" href="#id2">Teams UI</a></li>
<li><a class="reference internal" href="#id3">SDK</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#snapshot-management">Snapshot management</a><ul>
<li><a class="reference internal" href="#creating-a-snapshot">Creating a snapshot</a><ul>
<li><a class="reference internal" href="#id4">Teams UI</a></li>
<li><a class="reference internal" href="#id5">SDK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deleting-a-snapshot">Deleting a snapshot</a><ul>
<li><a class="reference internal" href="#id6">Teams UI</a></li>
<li><a class="reference internal" href="#id7">SDK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rollback-dataset-to-snapshot">Rollback dataset to snapshot</a><ul>
<li><a class="reference internal" href="#id8">Teams UI</a></li>
<li><a class="reference internal" href="#id9">SDK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#archive-snapshot">Archive snapshot</a><ul>
<li><a class="reference internal" href="#id10">Teams UI</a></li>
<li><a class="reference internal" href="#id11">SDK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unarchive-snapshot">Unarchive snapshot</a><ul>
<li><a class="reference internal" href="#id12">Teams UI</a></li>
<li><a class="reference internal" href="#id13">SDK</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#pluggable-backends">Pluggable backends</a><ul>
<li><a class="reference internal" href="#internal-duplication-backend">Internal duplication backend</a><ul>
<li><a class="reference internal" href="#time-and-space">Time and space</a></li>
<li><a class="reference internal" href="#strengths">Strengths</a></li>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#usage-considerations">Usage considerations</a><ul>
<li><a class="reference internal" href="#best-practices">Best practices</a></li>
<li><a class="reference internal" href="#dataset-versioning-configuration">Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#roadmap">Roadmap</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</section>
</div>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js" type="text/javascript"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
<script src="../_static/js/voxel51-website.js"></script>
<script src="../_static/js/custom.js"></script>
<script src="../_static/js/vendor/popper.min.js" type="text/javascript"></script>
<script src="../_static/js/vendor/bootstrap.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
<script src="../_static/js/theme.js" type="text/javascript"></script>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<!-- Begin Footer -->


<!-- End Footer -->
<!-- Begin Mobile Menu -->

<!-- End Mobile Menu -->
<script src="../_static/js/vendor/anchor.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>